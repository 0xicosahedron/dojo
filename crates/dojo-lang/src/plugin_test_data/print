//! > Test expansion of the derive(Print).

//! > test_runner_name
test_expand_plugin

//! > cairo_code
use serde::Serde;

#[derive(Print)]
struct Position {
    #[key]
    id: felt252,

    x: felt252,
    y: felt252
}

#[derive(Print)]
struct Roles {
    role_ids: Array<u8>
}

use starknet::ContractAddress;

#[derive(Print)]
struct Player {
    #[key]
    game: felt252,
    #[key]
    player: ContractAddress,

    name: felt252, 
}

#[derive(Print)]
enum Enemy {
    Unknown,
    Bot: felt252,
    OtherPlayer: ContractAddress,
}

//! > generated_cairo_code
use serde::Serde;


#[derive(Print)]
struct Position {
    #[key]
    id: felt252,

    x: felt252,
    y: felt252
}


#[derive(Print)]
struct Roles {
    role_ids: Array<u8>
}

#[cfg(test)]
impl RolesPrintImpl of debug::PrintTrait<Roles> {
    fn print(self: Roles) {
        debug::PrintTrait::print('role_ids');
        debug::PrintTrait::print(self.role_ids);
    }
}


use starknet::ContractAddress;


#[derive(Print, Copy, Drop, Serde)]
struct Player {
    #[key]
    game: felt252,
    #[key]
    player: ContractAddress,

    name: felt252, 
}

#[cfg(test)]
impl PlayerPrintImpl of debug::PrintTrait<Player> {
    fn print(self: Player) {
        debug::PrintTrait::print('game');
        debug::PrintTrait::print(self.game);
        debug::PrintTrait::print('player');
        debug::PrintTrait::print(self.player);
        debug::PrintTrait::print('name');
        debug::PrintTrait::print(self.name);
    }
}

//! > expected_diagnostics

//! > expanded_cairo_code
use serde::Serde;

#[derive(Print)]
struct Position {
    #[key]
    id: felt252,

    x: felt252,
    y: felt252
}

#[derive(Print)]
struct Roles {
    role_ids: Array<u8>
}

use starknet::ContractAddress;

#[derive(Print)]
struct Player {
    #[key]
    game: felt252,
    #[key]
    player: ContractAddress,

    name: felt252, 
}

#[derive(Print)]
enum Enemy {
    Unknown,
    Bot: felt252,
    OtherPlayer: ContractAddress,
}